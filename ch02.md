# Deep dive per standaard

## CityJSON / CityGML
In de wereld van digitale 3D-modellen van steden zijn er verschillende standaarden ontwikkeld om de opslag en uitwisseling van deze gegevens te ondersteunen. Twee van de meest prominente standaarden zijn CityGML en CityJSON. CityGML is al sinds 2008 een gevestigde standaard, ontwikkeld door het Open Geospatial Consortium (OGC), terwijl CityJSON een nieuwer en lichter alternatief biedt dat in 2020 door hetzelfde consortium werd erkend. CityGML maakt gebruik van een op XML gebaseerde structuur, terwijl CityJSON de eenvoud en flexibiliteit van JSON benut. Hoewel ze hetzelfde doel nastreven, namelijk het modelleren van 3D-steden en landschappen, verschillen de formaten sterk in hun technische aanpak en gebruiksscenario’s. 
 
Het belangrijkste verschil tussen CityGML en CityJSON ligt in de manier waarop de gegevens worden geëncodeerd. CityGML gebruikt XML, een tekstgebaseerd formaat dat bekendstaat om zijn robuustheid en flexibiliteit, maar dat vaak als zwaar en moeilijk te bewerken wordt beschouwd. CityJSON daarentegen is veel compacter en maakt gebruik van het JSON-formaat, dat veel eenvoudiger te verwerken is door programmeurs. Een ander belangrijk verschil is de bestandsgrootte. CityJSON-bestanden zijn aanzienlijk kleiner dan CityGML-bestanden; vaak wordt een CityGML-bestand door CityJSON met een factor 3 tot 6 verkleind. Dit maakt CityJSON aantrekkelijker voor situaties waarin bandbreedte en opslagcapaciteit beperkte middelen zijn. Het nadeel van CityJSON is echter dat het sommige complexe topologische relaties, zoals die met water of terrein, niet volledig ondersteunt. 
 
CityJSON is een open standaard, beheerd door de gemeenschap, en heeft de status van "Community Standard" binnen het Open Geospatial Consortium (OGC). Dit betekent dat het breed ondersteund wordt door verschillende partijen en openstaat voor continue verbetering door een brede gebruikersbasis. CityJSON is ontwikkeld met de gedachte om 3D-stadsmodellen toegankelijker te maken voor programmeurs en ontwikkelaars. Het is een gebruiksvriendelijk formaat dat zich richt op eenvoud in het lezen, verwerken en creëren van datasets. CityJSON legt, net als CityGML, veel nadruk op semantiek, wat essentieel is voor toepassingen waar gedetailleerde beschrijvingen van stedelijke objecten nodig zijn. Het formaat is voornamelijk gericht op analyse in plaats van visualisatie en wordt gebruikt in statische toepassingen, zoals stedelijke planning en 3D-dataverwerking. Versie 2.0 van CityJSON, geadopteerd door het OGC, ondersteunt een subset van het CityGML 3.0-datamodel, met enkele extra functionaliteiten die specifiek zijn voor JSON. Hierdoor kunnen ontwikkelaars eenvoudig API’s en tools bouwen die compatibel zijn met CityJSON. De JSON-specifieke extensiemechanismen maken het mogelijk om de basisstructuur uit te breiden zonder de kern van de standaard te doorbreken. Meer details en specificaties over CityJSON zijn te vinden op de officiële website, zoals de specificaties van versie [2.0.1 op CityJSON Specifications](https://www.cityjson.org/specs/2.0.1/). 

 
CityGML daarentegen is een complexere standaard die zeer gedetailleerde semantische informatie biedt over stedelijke objecten. CityGML is een officiële OGC-standaard die ontwikkeld is door het Open Geospatial Consortium zelf. Het formaat is gebaseerd op een UML-model dat een gemeenschappelijke basis biedt voor de uitwisseling en opslag van virtuele 3D-stadsmodellen. CityGML wordt breed ondersteund door zowel commerciële als open-source software en biedt uitgebreide mogelijkheden voor zowel geometrische als semantische modellering van steden. Een kernconcept binnen CityGML is het gebruik van niveaus van detail (Levels of Detail, LOD). Dit concept maakt het mogelijk om objecten op verschillende schaalniveaus te modelleren, variërend van eenvoudige 2.5D-terreinmodellen (LOD0) tot zeer gedetailleerde 3D-modellen inclusief interieurmodellen van gebouwen (LOD4). Een groot voordeel van CityGML is dat het compatibel is met een breed scala aan softwarepakketten, van commerciële oplossingen zoals Autodesk en ESRI tot open-source projecten zoals 3DCityDB. Dit maakt CityGML zeer geschikt voor grote, complexe projecten waarin zowel geometrie, semantiek als topologie een belangrijke rol spelen. Meer technische details over de werking van CityGML zijn te vinden in de officiële documentatie van het OGC, zoals beschreven op [CityGML Conceptual Model](https://docs.ogc.org/is/20-010/20-010.html). 

 ## Volgende paragraaf
 tekst...

 ## 3D GeoVolumes API

 <aside class="note">
 Misschien is het beter hiervan een apart hoofdstuk te maken. De andere beschreven standaarden zijn allemaal toch meer gericht op bestandsformaten. De API geeft juist toegang tot data ongeacht met welke standard de data gecodeerd is (bestandsformaat). Daarom is deze niet echt vergelijkbaar met de andere en het zou lastig kunnen zijn om ze samen in één wegwijzer te vatten.</aside>

 Zoals hierboven beschreven bestaan er verschillende standaarden voor 3D geodata. Sommigen beschrijven alleen een bestandsformaat, anderen zowel het bestandsformaat als de manier waarop de data toegankelijk wordt gemaakt. De 3D GeoVolumes API specificeert zelf geen specifiek formaat voor 3D geodata, maar beschrijft alleen hoe je 3D geodata aan kan bieden in verschillende formaten, waarbij de gebruiker het formaat kan kiezen en data kan selecteren. 

 > OGC API - 3D GeoVolumes facilitates efficient discovery of and access to 3D content in multiple formats based on a space-centric perspective.

Een API is een *Application Programmimg Interface* - een manier waarop twee computers, een server en een client, met elkaar communiceren. De server is in dit geval de computer die 3D geodata aanbiedt, de client is de computer die data vraagt. 

Het Open Geospatial Consortium ([OGC](https://www.ogc.org/)) heeft een [hele reeks APIs](https://ogcapi.ogc.org/) gestandaardiseerd. Het vormen bouwstenen waarmee je geodata op een standaardmanier kan serveren. Denk bijvoorbeeld aan het  bladeren door collecties van geodata, het opvragen van een geo-object op basis van het id, of het opvragen van geo-objecten binnen een bounding box of tijdsperiode. 

De 3D GeoVolumes API standaard bevat specifieke bouwstenen voor 3D geodata. Centraal in deze standaard staat het idee van Bounding Volumes (ook wel genoemd: 3D Containers): 3-dimensionale bounding boxes waarbinnen zich ofwel andere bounding boxes, ofwel 3D geo-objecten kunnen bevinden. De Bounding Volumes kunnen verschillende vormen hebben. Elke Bounding Volume vormt een collectie die de gebruiker kan opvragen. De GeoVolumes API kan tiles serveren en de client kan deze dan renderen. 

Een client kan bij een GeoVolumes API een specifiek GeoVolume opvragen op basis van id. Ook kan een client geo-objecten binnen een zelf gespecificeerde bounding box opvragen, al dan niet binnen een specifiek Geo-Volume. 

In de standaard worden 3D Tiles en i3s specifiek genoemd als ondersteunde formaten, maar het is ook toegestaan om andere formaten te serveren, bijvoorbeeld CityGML, CityJSON of GLTF. 